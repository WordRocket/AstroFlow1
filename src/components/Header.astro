---
import { NAVIGATION, SITE } from '@config/site';
import { Phone } from 'lucide-react';
import MobileMenu from '@components/react/MobileMenu';

const { currentPathname } = Astro.props;
const isActiveLink = (href: string) : boolean => { return href === currentPathname; }

---

<header class="sticky top-0 z-50 w-full border-b border-green-100 bg-white/95 backdrop-blur-md shadow-sm">
  <div class="bg-gradient-to-r from-green-700 to-green-600 text-white py-2">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col sm:flex-row items-center justify-between text-sm gap-2">
        <div class="flex items-center gap-4">
          <a href={`tel:${SITE.phone}`} class="flex items-center gap-2 hover:text-green-100 transition-colors">
            <Phone className="w-4 h-4" />
            <span class="font-semibold">{SITE.phone}</span>
          </a>
          <span class="hidden sm:block text-green-300">|</span>
          <span class="text-green-100">Serving Niagara & GTA</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="text-green-100">Mon-Fri: {SITE.hours.weekdays}</span>
          <span class="hidden sm:inline text-green-300">|</span>
          <span class="text-green-100 hidden sm:inline">Sat: {SITE.hours.saturday}</span>
        </div>
      </div>
    </div>
  </div>

  <nav class="container mx-auto flex h-20 items-center justify-between px-4 sm:px-6 lg:px-8">
    <div class="flex items-center">
      <a href="/" class="flex items-center space-x-3 group">
        <img
          src="/logo.svg"
          alt="Reliable Landscaping Niagara Logo"
          class="w-14 h-14 group-hover:scale-105 transition-transform duration-300"
        />
        <div class="flex flex-col">
          <span class="text-xl font-bold text-green-800 leading-tight">
            Reliable Landscaping
          </span>
          <span class="text-sm text-green-600 font-medium">
            Niagara
          </span>
        </div>
      </a>
    </div>

    <div class="hidden lg:flex lg:items-center lg:space-x-1">
      {NAVIGATION.map((item) => {
        const isActive = isActiveLink(item.href);
        return (
        <a
          href={item.href}
          class={`px-4 py-2 text-sm font-medium text-slate-700 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all relative group ${isActive ? 'nav-active-green' : ''}`}
        >
          {item.name}
        </a>
      );
      })}
    </div>

    <div class="hidden lg:flex lg:items-center lg:space-x-4">
      <a
        href="/rfq"
        class="inline-flex items-center px-6 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 rounded-lg shadow-md hover:shadow-lg transition-all"
      >
        Get Free Quote
      </a>
    </div>

    <MobileMenu client:idle />
  </nav>
</header>
